<h1>Timeline</h1>

<a class="new-post-link" href="/posts/new">New post</a>
<ul class="posts">
  {{#each posts}}
  <li>{{this.message}}</li> 
  <li>{{this.likes}} likes</li>
  <li>{{this.user_id.first_name}}</li>
  <li>{{dateFormat this.createdAt "dddd, MMMM Do YYYY, h:mm:ss a"}}</li>
  <button>Like</button>
  <input type="button" name="answer" value="Comment" onclick="showDiv(event)" />
  <div id="{{this._id}}"  style="display:none;" class="answer_list" > 
    <form id="new-comment-form" action="/posts/comments" method="post">
     <input placeholder="You can only input 254 characters" id="message" type="text" name="comment" value="">
      <input type="hidden" id="hiddenbutton" name="id" value={{this.id}}>  
       <input type="hidden" id="hiddenbutton" name="comments" value={{this.comments}}> 
     <button type="submit" id="comment_button" value={{this.comments}}>Submit</button>
     </form>
     <p id="demo"></p>
  </div>
  {{#each this}}
    <div class="row"></div>
{{/each}}
  <li>{{this.commentInfo.commenter}}:<br> {{this.commentInfo.commentContent}}</li>
  <br>
  <br>
  {{/each}}
</ul>

<script> 
const obj = JSON.parse(txt);

  function showDiv(event) {
    console.log(event)

   event.target.nextElementSibling.style.display = "block";
}

function submitComment(event){
   var x = event.target.previousElementSibling.value;
  post.comment.$push(x)
}
</script>



